"use strict";function LocationsDataTableRenderFunction(n,t,i){return Col=Locations.LocationId+" : "+i.LocationId+"<br>"+Locations.Address+" : "+i.Address+'<br><br><div class="btn-group drop" ><button type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><\/button><div class="dropdown-menu"><a class="dropdown-item" href="/Locations/Update/'+i.LocationId+'">'+Locations.LocationsTableUpdateInformationLabel+'<\/a><a class="dropdown-item" href="/Locations/Details/'+i.LocationId+'">'+Locations.LocationsTableDetailsLabel+'<\/a><a class="dropdown-item" href="Employees?LocationId='+i.LocationId+'">'+Locations.LocationsTableEmployeesLabel+'<\/a><a class="dropdown-item Remove" href="#" LocationId="'+i.LocationId+'" Address="'+i.Address+'" >'+Locations.LocationsTableRemoveLocationLabel+"<\/a><\/div><\/div>"}function RemoveLocationAjaxRequest(n){$.ajax({url:"/Operations-api/Locations/Remove/"+n,method:"POST",success:AjaxRequestOperationSuccess,error:AjaxRequestError})}function AjaxRequestOperationSuccess(n){$("#Locations").DataTable().ajax.reload();toastr.success(n)}function AjaxRequestError(n){if(n.status==404)toastr.error(Locations.LocationIdNotFound);else{var t=$.parseJSON(n.responseText).Message;toastr.error(t)}}function ConfirmBox(n,t,i,r){bootbox.confirm({message:n,centerVertical:!0,buttons:{cancel:{label:Locations.CancelButton},confirm:{label:Locations.ConfirmButton}},callback:function(n){n&&t(i,r)}})}$(document).ready(function(){var i={emptyTable:Locations.LocationsEmptyTable,sInfo:Locations.LocationsTableInfo,sInfoEmpty:"",lengthMenu:Locations.LocationsTableLengthMenu,loadingRecords:Locations.LocationsTableLoadingRecords,processing:Locations.LocationsTableProcessing,search:Locations.LocationsTableSearchLabel,zeroRecords:Locations.LocationsEmptyTable,paginate:{first:Locations.LocationsTableFirst,last:Locations.LocationsTableLast,next:Locations.LocationsTableNext,previous:Locations.LocationsTablePrevious}},r=[{data:"Address",render:LocationsDataTableRenderFunction}],n,t;$("#Locations").DataTable({language:i,proccessing:!0,serverSide:!0,ajax:{url:"/Locations/LoadData",type:"POST",datatype:"json"},columnDefs:[{targets:[0],orderable:!1,searchable:!1}],columns:r});$("#Locations").on("click",".Remove",function(){var t=$(this).attr("LocationId"),n=$(this).attr("Address");ConfirmBox(Locations.RemoveLocationMessage.replace(/_Address_/g,n),RemoveLocationAjaxRequest,t,n)});n={latitude:$("#latitude").text(),longitude:$("#longitude").text()};t={latitudeInput:$("#latitude"),longitudeInput:$("#longitude")};$("#FormMapPlaceHolder").locationpicker({location:n,radius:20,inputBinding:t,enableAutocomplete:!0});$("#DetailsMapPlaceHolder").locationpicker({location:n,radius:20})});